-- DDL para a tabela HABITO
CREATE TABLE HABITO (
    HABITOID         NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    DESCRICAO        VARCHAR2(255) NOT NULL,
    TIPO             VARCHAR2(100),
    FREQUENCIAIDEAL  NUMBER NOT NULL
);
COMMENT ON TABLE HABITO IS 'Tabela que armazena os hábitos.';
COMMENT ON COLUMN HABITO.DESCRICAO IS 'Descrição do hábito.';
COMMENT ON COLUMN HABITO.TIPO IS 'Tipo do hábito (ex: saúde, alimentação, etc.).';
COMMENT ON COLUMN HABITO.FREQUENCIAIDEAL IS 'Frequência ideal (em dias) para executar o hábito.';

--------------------------------------------------

-- DDL para a tabela REGISTROHABITO
CREATE TABLE REGISTROHABITO (
    ID             NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    HABITOID       NUMBER NOT NULL,
    DATA           DATE DEFAULT SYSDATE,
    IMAGEM         VARCHAR2(255),
    OBSERVACOES    VARCHAR2(4000)
);
COMMENT ON TABLE REGISTROHABITO IS 'Tabela que armazena os registros de execução dos hábitos.';
COMMENT ON COLUMN REGISTROHABITO.HABITOID IS 'Chave estrangeira referenciando a tabela HABITO.';
COMMENT ON COLUMN REGISTROHABITO.DATA IS 'Data em que o hábito foi registrado.';
COMMENT ON COLUMN REGISTROHABITO.IMAGEM IS 'Caminho ou URL da imagem associada ao registro.';
COMMENT ON COLUMN REGISTROHABITO.OBSERVACOES IS 'Observações relacionadas ao registro do hábito.';

-- Constraint de chave estrangeira para REGISTROHABITO
ALTER TABLE REGISTROHABITO ADD CONSTRAINT FK_REGISTROHABITO_HABITO
    FOREIGN KEY (HABITOID) REFERENCES HABITO(HABITOID);

--------------------------------------------------

-- DDL para a tabela UNIDADE
CREATE TABLE UNIDADE (
    UNIDADEID   NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOME        VARCHAR2(255) NOT NULL,
    ESTADO      VARCHAR2(100),
    CIDADE      VARCHAR2(100),
    ENDERECO    VARCHAR2(255) NOT NULL
);
COMMENT ON TABLE UNIDADE IS 'Tabela que armazena as unidades (filiais ou centros).';
COMMENT ON COLUMN UNIDADE.NOME IS 'Nome da unidade.';
COMMENT ON COLUMN UNIDADE.ESTADO IS 'Estado onde a unidade está localizada.';
COMMENT ON COLUMN UNIDADE.CIDADE IS 'Cidade da unidade.';
COMMENT ON COLUMN UNIDADE.ENDERECO IS 'Endereço completo da unidade.';

--------------------------------------------------

-- DDL para a tabela USUARIO
CREATE TABLE USUARIO (
    USUARIOID         NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    EMAIL             VARCHAR2(255) NOT NULL UNIQUE,
    NOME              VARCHAR2(255) NOT NULL,
    SENHA             VARCHAR2(255) NOT NULL,
    DATACADASTRO      DATE DEFAULT SYSDATE,
    PONTOSRECOMPENSA  NUMBER DEFAULT 0
);
COMMENT ON TABLE USUARIO IS 'Tabela que armazena os usuários do sistema.';
COMMENT ON COLUMN USUARIO.EMAIL IS 'Email do usuário (deve ser único).';
COMMENT ON COLUMN USUARIO.NOME IS 'Nome completo do usuário.';
COMMENT ON COLUMN USUARIO.SENHA IS 'Senha do usuário.';
COMMENT ON COLUMN USUARIO.DATACADASTRO IS 'Data de cadastro do usuário.';
COMMENT ON COLUMN USUARIO.PONTOSRECOMPENSA IS 'Pontos de recompensa acumulados pelo usuário.';
